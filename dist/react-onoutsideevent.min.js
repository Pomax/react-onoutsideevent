!function(t,e){"function"==typeof define&&define.amd?define(["react-dom"],e):"object"==typeof exports?module.exports=e(require("react-dom")):t.OnOutsideEvent=e(ReactDOM)}(this,function(t){"use strict";var e=[],n=[],i="ignore-react-onoutsideevent",s="mousedown",o=function(t,e){return t===e?!0:t.correspondingElement?t.correspondingElement.classList.contains(i):t.classList.contains(i)},r={componentDidMount:function(){if("function"!=typeof this.handleOutsideEvent)throw new Error("Component lacks a handleOutsideEvent(event) function for processing outside events.");var i=this.__outsideEventHandler=function(t,e){return function(n){n.stopPropagation();for(var i=n.target,s=!1;i.parentNode;){if(s=o(i,t))return;i=i.parentNode}e(n)}}(t.findDOMNode(this),this.handleOutsideEvent),r=e.length;if(e.push(this),n[r]=i,this.__activeOutsideEvents=[],!this.props.disableOnOutsideEvent){var d=this.props.listenToOutsideEvent||s;("string"==typeof d||d instanceof Array)&&this.enableOnOutsideEvent(d)}},componentWillUnmount:function(){this.disableOnOutsideEvent(this.__activeOutsideEvents),this.__outsideEventHandler=!1;var t=e.indexOf(this);t>-1&&n[t]&&(n.splice(t,1),e.splice(t,1))},enableOnOutsideEvent:function(t){var e=t||this.props.listenToOutsideEvent||s;"string"==typeof e&&(e=[e]);var n=this.__outsideEventHandler,i=this.__activeOutsideEvents;e.forEach(function(t){i.indexOf(t)<0&&(i.push(t),document.addEventListener(t,n))})},disableOnOutsideEvent:function(t){var e=t||this.props.listenToOutsideEvent||s;"string"==typeof e&&(e=[e]);var n=this.__outsideEventHandler,i=this.__activeOutsideEvents;e.forEach(function(t){var e=i.indexOf(t);e>=0&&i.splice(e,1),document.removeEventListener(t,n)})}};return r});